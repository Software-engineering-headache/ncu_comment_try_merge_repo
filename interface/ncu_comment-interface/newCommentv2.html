<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新增評論 - 課程評論系統</title>
    <link rel="stylesheet" href="new_style.css">
    <link rel="stylesheet" href="new_style_button_table.css">
    <style>
        /* 表格樣式 */
        .course-detail table,
        .course-list table {
            width: 80%;
            margin: 20px auto;
            border-collapse: collapse;
            background-color: #fff;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
        }

        .course-detail th,
        .course-detail td,
        .course-list th,
        .course-list td {
            border: 1px solid #ddd;
            text-align: left;
            padding: 10px;
        }

        .course-detail th,
        .course-list th {
            background-color: #d2e8f2; /* 表格標題淺藍色 */
            font-weight: bold;
        }

        .course-detail tr:nth-child(even),
        .course-list tr:nth-child(even) {
            background-color: #f9f9f9; /* 偶數列背景色 */
        }

        .course-detail button,
        .course-list button {
            background-color: #4682b4; /* 藍色按鈕 */
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }

        .course-detail button:hover,
        .course-list button:hover {
            background-color: #5a9bd6;
        }

        /* 新增：評論列表區塊樣式 */
        .comments {
            margin-top: 2rem;
        }
        /* 單條評論樣式 */
        .comment-item {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .comment-item .rating {
            color: #f5b301; /* 星星顏色 */
        }

        .meta {
            color: #6c757d;
            font-size: 0.9rem;
        }
        
        /* 彈跳視窗 */
        .modal, .alert-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
        }

        .modal-content, .alert-content {
            position: relative; /* 確保內部的按鈕可以相對於彈跳視窗內容定位 */
            background: #fff;
            padding: 2rem;
            border-radius: 8px;
            max-width: 500px;
            text-align: center;
        }

        .close-button {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.5rem;
            cursor: pointer;
            background: none; /* 移除背景 */
            border: none; /* 移除邊框 */
            color: #333; /* 叉叉的顏色 */
        }

        /* 評分星級樣式 */
        #rating .star {
            font-size: 2rem;
            color: #ddd;
            cursor: pointer;
        }

        #rating .star.selected {
            color: #f5b301;
        }

        /* 警告按鈕 */
        .btn-alert {
            background-color: #d9534f;
            color: #fff;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        /* 警告文字樣式 */
        .warning {
            color: red;
            text-align: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo-container">
            <a href="index.html">
                <img src="image/home.png" alt="首頁" width="40" height="40">
            </a>
            <a href="index.html" class="logo" style="text-decoration: none; font-size: 1.5rem; font-weight: bold; color: #333;">
                NCU課程評論基地
            </a>
        </div>
        <div class="navbar">
            <nav>
                <a>加入收藏</a><!-- 沒有可連結的地方！！！ -->
                <a href="courses.html">搜尋課程</a>
                <a href="index.html">登出</a>
            </nav>
        </div>
    </header>
    <main>
        <section class="course-detail">
            <table>
                <tr>
                    <th>課程名稱</th>
                    <td>軟體工程 I</td>
                </tr>
                <tr>
                    <th>授課老師</th>
                    <td>許智誠</td>
                </tr>
                <tr>
                    <th>課程簡介</th>
                    <td>課程代碼：43030 | 學分數：3 學分 | 開課學期：113 上</td>
                </tr>
                <tr>
                    <td colspan="2" style="text-align: center;">
                        <button class="btn btn-primary" id="review-button">我要評論</button>
                    </td>
                </tr>
            </table>
        </section>
        <!-- 新增：評論清單區塊 -->
        <div class="comments">
            <h3>評論</h3>
            <!-- 單條評論範例 -->
            <!--div class="comment-item">
                <p><strong>資訊系網紅</strong> <span class="rating">★★★★★</span></p>
                <p>超讚的課，老師很認真，可以扎實學習到軟體工程的流程與技巧，推推！</p>
                <p class="meta">受評教授：許智誠 | 日期：2024-11-03 15:11</p>
            </div>
            <div class="comment-item">
                <p><strong>我想畢業</strong> <span class="rating">★★★★☆</span></p>
                <p>一學期有幾次 Case 討論作業，還有期末考，需要花時間認真學。</p>
                <p class="meta">受評教授：許智誠 | 日期：2024-11-01 10:24</p>
            </div -->
            <div id="comment-list" --><!-- 這是我改原本的架構，但是目前無法正常顯示，因此保留原本的架構，scripts.js 是以這個為參考去寫的>
                <!-- 多條評論範例 -->
            </div>
        </div>

        <!-- 評論彈跳視窗 -->
        <div class="modal" id="review-modal">
            <div class="modal-content">
                <span class="close-button" onclick="closeModal()">&times;</span>
                <h3>發表評論</h3>
                <form id="review-form">
                    <!-- 課程代碼 -->
                    <label for="course-code">課程代碼</label>
                    <input type="text" id="course-code" required><br>

                    <!-- 使用者名稱 -->
                    <label for="username">使用者名稱</label>
                    <input type="text" id="username" required><br>

                    <!-- 系所 -->
                    <label for="department">系所</label>
                    <!--<input type="text" id="department" required><br>-->
                    <select id="department">
                        <option>選擇系所</option>
                        <option>資訊管理研究所</option>
                        <option>資訊工程研究所</option>
                    </select><br>
                    
                    <!-- 授課老師 -->
                    <label for="teacher">授課老師</label>
                    <input type="text" id="teacher" required><br>

                    <!-- 課程關鍵字 -->
                    <label for="keywords">課程關鍵字</label>
                    <input type="text" id="keywords" required><br>
                    
                    <!-- 年份 -->
                    <label for="year">年份</label>
                    <!--<input type="number" id="year" required min="2000" max="2100"><br>-->
                    <select id="department">
                        <option>選擇年份</option>
                        <option>2024</option>
                        <option>2022</option>
                        <option>2020</option>
                    </select><br>

                    <!-- 推薦指數 -->
                    <label for="rating">推薦指數</label>
                    <div id="rating">
                        <span class="star" onclick="setRating(1)">★</span>
                        <span class="star" onclick="setRating(2)">★</span>
                        <span class="star" onclick="setRating(3)">★</span>
                        <span class="star" onclick="setRating(4)">★</span>
                        <span class="star" onclick="setRating(5)">★</span>
                    </div>

                    <!-- 評論內容 -->
                    <label for="comment-text">評論內容 (字數限制：1500)</label>
                    <textarea id="comment-text" maxlength="1500" placeholder="撰寫您的評論..." required></textarea><br>

                    <!-- 提交日期 -->
                    <label for="submit-date">提交日期</label>
                    <input type="date" id="submit-date" required>

                    <!-- 提交按鈕 -->
                    <button type="button" class="btn btn-submit" onclick="submitReview()">送出評論</button>
                    <h4 class="warning">!!!謹言慎行!!!<br>如果違規將刪除評論並寄郵件通知</h4>
                </form>
            </div>
        </div>

        <!-- 超過字數警告視窗 -->
        <div class="alert-modal" id="alert-modal">
            <div class="alert-content">
                <p>字數不可超過 1500 字！</p>
                <button class="btn btn-alert" onclick="closeAlert()">確定</button>
            </div>
        </div>
    </main>
    <script src="scripts.js"></script>
</body>
</html>
